{"version":3,"sources":["clAdapters/netsuite/index.js"],"names":[],"mappings":"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","file":"clAdapters/netsuite/index.js","sourcesContent":["'use strict';\n\nimport _ from 'lodash';\nimport util from 'util';\nimport BaseAdapter from '../base/Adapter';\nimport Fields from '../fields';\nimport NetSuite from 'netsuite-js';\n\nvar implementedFields = {};\nimplementedFields[Fields.Types.USER] = {\n  'department#internalId': true,\n  'supervisor#internalId': true\n};\nimplementedFields[Fields.Types.EXT_ENTITY] = {\n  'customer#balance': true,\n  'customer#overdueBalance': true,\n  'customer#daysOverdue': true\n};\n\n/**\n * NetSuiteAdapter\n *\n * `credentials` format:\n * ```\n * {\n *   email: 'test@test.com',\n *   password: 'password',\n *   account: 123456,\n *   role: 3\n * }\n * ```\n * @class\n * @return {NetSuiteAdapter}\n */\nvar NetSuiteAdapter = module.exports = function NetSuiteAdapter() {\n  BaseAdapter.call(this);\n\n  /**\n   * @override\n   */\n  Object.defineProperty(this, 'extEntityKey', {\n    get: function() {\n      return this.credentials.account;\n    }\n  });\n\n  // SearchId cache, one per field\n  this._searchIds = {};\n\n  // Cache results by field type -> limit (pagesize) -> skip, e.g.:\n  // this._cachedDataByFieldType[Fields.Types.USER][10][3]\n  // represents all user records for search page size 10 starting at index 3.\n  // EXT_ENTITY fields are have an additional layer for entityType, e.g.:\n  // this._cachedDataByFieldType[Fields.Types.EXT_ENTITY]['customer'][10][3]\n  this._cachedDataByFieldType = {};\n};\n\nutil.inherits(NetSuiteAdapter, BaseAdapter);\n\n/**\n * @override\n */\nNetSuiteAdapter.prototype.init = function() {\n  var _this = this;\n  this._config = new NetSuite.Configuration(this.credentials);\n  this._service = new NetSuite.Service(this._config);\n  return this._service\n    .init()\n    .then(function( /*client*/ ) {\n      var msg = 'Successfully initialized NetSuiteAdapter for email: %s, account: %s, role: %d';\n      console.log(msg, _this.credentials.email, _this.credentials.account, _this.credentials.role);\n      return _this;\n    });\n};\n\n/**\n * @override\n */\nNetSuiteAdapter.prototype.reset = function() {\n  this._searchIds = {};\n  this._cachedDataByFieldType = {};\n  delete this._config;\n  delete this._service;\n};\n\nNetSuiteAdapter.prototype._setCacheValue = function(field, limit, skip, data) {\n  var fieldCache = this._cachedDataByFieldType[field.type] = this._cachedDataByFieldType[field.type] || {};\n\n  if (field.type === Fields.Types.EXT_ENTITY) {\n    fieldCache = this._cachedDataByFieldType[field.type][field.entityType] = this._cachedDataByFieldType[field.type][field.entityType] || {};\n  }\n\n  fieldCache[limit] = fieldCache[limit] || {};\n  fieldCache[limit][skip] = _.cloneDeep(data);\n};\n\nNetSuiteAdapter.prototype._getCacheValue = function(field, limit, skip) {\n  var fieldCache = this._cachedDataByFieldType[field.type];\n  if (!fieldCache) {\n    return undefined;\n  }\n\n  if (field.type === Fields.Types.EXT_ENTITY) {\n    fieldCache = fieldCache[field.entityType];\n  }\n  return fieldCache &&\n    fieldCache[limit] &&\n    fieldCache[limit][skip];\n};\n\n/**\n * @override\n */\nNetSuiteAdapter.prototype.getFieldData = function(field, query) {\n  console.log(field);\n  var _this = this;\n  return new Promise(function(resolve, reject) {\n    query = query || {};\n\n    var preferences = new NetSuite.Search.SearchPreferences();\n    preferences.pageSize = query.limit || 10;\n    _this._service.setSearchPreferences(preferences);\n\n    if (!implementedFields[field.type] || !implementedFields[field.type][field.extId]) {\n      return reject(new Error('Unknown field or retrieval NYI by NetSuiteAdapter:', field));\n    }\n\n    // Cache hit?\n    var cached = _this._getCacheValue(field, preferences.pageSize, query.skip);\n    if (cached) {\n      return resolve(cached);\n    }\n\n    var pageIndex, search;\n    if (field.type === Fields.Types.USER) {\n      if (query.skip) {\n        if (!_this._searchIds[field.extId]) {\n          throw new Error('NetSuite paged searches must start with an initial search to generate a search session');\n        }\n        // Round down then add 1 since netsuite page indices are one-based\n        pageIndex = Math.floor(query.skip / preferences.pageSize) + 1;\n        console.log('searchMoreWithId with pageIndex \"%d\"', pageIndex);\n        return _this._service.searchMoreWithId(_this._searchIds[field.extId], pageIndex)\n          .then(function(result) {\n            var data = {\n              count: result.searchResult.totalRecords,\n              results: result.searchResult.recordList.record\n            };\n            _this._setCacheValue(field, preferences.pageSize, query.skip, data);\n            return resolve(data);\n          });\n      } else {\n        // No criteria right now\n        search = new NetSuite.Search.EmployeeSearchBasic();\n        return _this._service.search(search)\n          .then(function(result) {\n            if (result.searchResult.totalPages > 1) {\n              _this._searchIds[field.extId] = result.searchResult.searchId;\n            }\n\n            var data = {\n              count: result.searchResult.totalRecords,\n              results: result.searchResult.recordList.record\n            };\n            _this._setCacheValue(field, preferences.pageSize, query.skip, data);\n            return resolve(data);\n          });\n      }\n    } else if (field.type === Fields.Types.EXT_ENTITY) {\n      if (field.entityType === 'customer') {\n        if (query.skip) {\n          if (!_this._searchIds[field.extId]) {\n            throw new Error('NetSuite paged searches must start with an initial search to generate a search session');\n          }\n          // Round down then add 1 since netsuite page indices are one-based\n          pageIndex = Math.floor(query.skip / preferences.pageSize) + 1;\n          console.log('searchMoreWithId with pageIndex \"%d\"', pageIndex);\n          return _this._service.searchMoreWithId(_this._searchIds[field.extId], pageIndex)\n            .then(function(result) {\n              var data = {\n                count: result.searchResult.totalRecords,\n                results: result.searchResult.searchRowList.searchRow\n              };\n              _this._setCacheValue(field, preferences.pageSize, query.skip, data);\n              return resolve(data);\n            });\n        } else {\n          // No criteria right now\n          search = new NetSuite.Search.CustomerSearchAdvanced();\n          search.columns = new NetSuite.Search.CustomerSearchRow();\n          search.columns.basic = new NetSuite.Search.CustomerSearchRowBasic();\n\n          // For now, always include all SearchColumn fields since storing an extra field\n          // is far less costly than having to do another roundtrip to retrieve another field\n          var entityIdField = new NetSuite.Search.Fields.SearchColumnStringField();\n          entityIdField.field = 'entityId';\n          search.columns.basic.searchColumnFields.push(entityIdField);\n\n          var internalIdField = new NetSuite.Search.Fields.SearchColumnSelectField();\n          internalIdField.field = 'internalId';\n          search.columns.basic.searchColumnFields.push(internalIdField);\n\n          var balanceField = new NetSuite.Search.Fields.SearchColumnDoubleField();\n          balanceField.field = 'balance';\n          search.columns.basic.searchColumnFields.push(balanceField);\n\n          var overdueBalanceField = new NetSuite.Search.Fields.SearchColumnDoubleField();\n          overdueBalanceField.field = 'overdueBalance';\n          search.columns.basic.searchColumnFields.push(overdueBalanceField);\n\n          var daysOverdueField = new NetSuite.Search.Fields.SearchColumnLongField();\n          daysOverdueField.field = 'daysOverdue';\n          search.columns.basic.searchColumnFields.push(daysOverdueField);\n\n          return _this._service.search(search)\n            .then(function(result) {\n              if (result.searchResult.totalPages > 1) {\n                _this._searchIds[field.extId] = result.searchResult.searchId;\n              }\n\n              var data = {\n                count: result.searchResult.totalRecords,\n                results: result.searchResult.searchRowList.searchRow\n              };\n              _this._setCacheValue(field, preferences.pageSize, query.skip, data);\n              return resolve(data);\n            });\n        }\n      } else {\n        return reject(new Error('Unknown EXT_ENTITY entityType:', field.entityType));\n      }\n    }\n  });\n};\n"],"sourceRoot":"/source/"}